"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[143],{4143:(N,u,c)=>{c.r(u),c.d(u,{RegisterPage:()=>V});var _=c(467),e=c(3953),p=c(177),g=c(4341),d=c(1019),v=c(3130),h=c(2672),P=c(3724),E=c(9520),M=c(8986),f=c(7294);function C(n,s){1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"This field is required."),e.\u0275\u0275elementEnd())}function y(n,s){1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1," Minimum length is 3 characters. "),e.\u0275\u0275elementEnd())}function w(n,s){if(1&n&&(e.\u0275\u0275elementStart(0,"div",31),e.\u0275\u0275template(1,C,2,0,"div",32)(2,y,2,0,"div",32),e.\u0275\u0275elementEnd()),2&n){e.\u0275\u0275nextContext();const i=e.\u0275\u0275reference(15);e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",null==i.errors?null:i.errors.required),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",null==i.errors?null:i.errors.minlength)}}function D(n,s){1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"This field is required."),e.\u0275\u0275elementEnd())}function S(n,s){1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1," Please provide a valid email "),e.\u0275\u0275elementEnd())}function L(n,s){if(1&n&&(e.\u0275\u0275elementStart(0,"div",31),e.\u0275\u0275template(1,D,2,0,"div",32)(2,S,2,0,"div",32),e.\u0275\u0275elementEnd()),2&n){e.\u0275\u0275nextContext();const i=e.\u0275\u0275reference(19);e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",null==i.errors?null:i.errors.required),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",null==i.errors?null:i.errors.pattern)}}function x(n,s){1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1," This field is required. "),e.\u0275\u0275elementEnd())}function R(n,s){1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1," Minimum length is 6 characters. "),e.\u0275\u0275elementEnd())}function I(n,s){if(1&n&&(e.\u0275\u0275elementStart(0,"div",31),e.\u0275\u0275template(1,x,2,0,"div",32)(2,R,2,0,"div",32),e.\u0275\u0275elementEnd()),2&n){e.\u0275\u0275nextContext();const i=e.\u0275\u0275reference(2);e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",null==i.errors?null:i.errors.required),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",null==i.errors?null:i.errors.minlength)}}function T(n,s){1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1," This field is required. "),e.\u0275\u0275elementEnd())}function O(n,s){if(1&n&&(e.\u0275\u0275elementStart(0,"div",31),e.\u0275\u0275template(1,T,2,0,"div",32),e.\u0275\u0275elementEnd()),2&n){e.\u0275\u0275nextContext();const i=e.\u0275\u0275reference(7);e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",null==i.errors?null:i.errors.required)}}function b(n,s){1&n&&(e.\u0275\u0275elementStart(0,"div",31),e.\u0275\u0275text(1,"Passwords do not match."),e.\u0275\u0275elementEnd())}function U(n,s){if(1&n){const i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-col",14)(1,"ion-input",33,4),e.\u0275\u0275twoWayListener("ngModelChange",function(t){e.\u0275\u0275restoreView(i);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275twoWayBindingSet(a.userData.password,t)||(a.userData.password=t),e.\u0275\u0275resetView(t)}),e.\u0275\u0275element(3,"ion-input-password-toggle",34),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,I,3,2,"div",16),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"ion-col",14)(6,"ion-input",35,5),e.\u0275\u0275twoWayListener("ngModelChange",function(t){e.\u0275\u0275restoreView(i);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275twoWayBindingSet(a.userData.cpassword,t)||(a.userData.cpassword=t),e.\u0275\u0275resetView(t)}),e.\u0275\u0275listener("input",function(){e.\u0275\u0275restoreView(i);const t=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(t.validatePassword())}),e.\u0275\u0275element(8,"ion-input-password-toggle",34),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(9,O,2,1,"div",16)(10,b,2,0,"div",16),e.\u0275\u0275elementEnd()}if(2&n){const i=e.\u0275\u0275reference(2),o=e.\u0275\u0275reference(7),t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275twoWayProperty("ngModel",t.userData.password),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",i.invalid&&(i.dirty||i.touched)),e.\u0275\u0275advance(2),e.\u0275\u0275twoWayProperty("ngModel",t.userData.cpassword),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",o.invalid&&(o.dirty||o.touched)),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",t.passCheck)}}function k(n,s){1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"This field is required."),e.\u0275\u0275elementEnd())}function W(n,s){1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1," Minimum length is 10 characters. "),e.\u0275\u0275elementEnd())}function B(n,s){if(1&n&&(e.\u0275\u0275elementStart(0,"div",31),e.\u0275\u0275template(1,k,2,0,"div",32)(2,W,2,0,"div",32),e.\u0275\u0275elementEnd()),2&n){e.\u0275\u0275nextContext();const i=e.\u0275\u0275reference(24);e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",null==i.errors?null:i.errors.required),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",null==i.errors?null:i.errors.minlength)}}let V=(()=>{var n;class s{constructor(){this.socialLogin=(0,e.inject)(v.Q),this.localStr=(0,e.inject)(h.s),this.router=(0,e.inject)(P.Ix),this.commonService=(0,e.inject)(E.h),this.handleData=(0,e.inject)(M.K),this.isSocialLogin=!1,this.email_verified=!1,this.userData={profilePicture:"",userEmail:"",userName:"",password:"",cpassword:"",phone:"",isSocialLogin:this.isSocialLogin,email_verified:this.email_verified,ride:{lastride:{id:"",ridername:"",riderpicture:"",riderEmail:"",riderUserId:"",time:"",type:"",from:"",to:"",date:"",seatAvl:"",price:"",companionNames:"",duration:"",distance:"",status:"",vehicle:"",passengerList:[],travelDetails:{startlocation:"",endlocation:"",startTime:"",endTime:"",distanceTravelled:"",traveledTime:"",discripencyFlag:!1,agreement:!1}},rideList:[]},wallet:{},isNotification:!1,notificationList:[],allNotification:[]},this.passCheck=!1}ngOnInit(){var o=this;return(0,_.A)(function*(){o.users=o.handleData.getData();try{const t=yield o.socialLogin.googleLogin("google");o.localStr.setItem("googleUserLog",JSON.parse(t));const a=o.localStr.getItem("googleUserLog");a&&(console.log("googleLogin === ",a),o.userData.userEmail=a.email,o.userData.userName=a.name,o.userData.profilePicture=a.picture,o.userData.isSocialLogin=!0,o.userData.email_verified=a.email_verified)}catch(t){console.log(t),o.commonService.alertBox(t,"Register alert",["Ok"])}})()}validatePassword(){this.passCheck=this.userData.password!=this.userData.cpassword}onSubmit(o){var t=this;return(0,_.A)(function*(){if(o.valid){const a=t.userData.userEmail;console.log("email === ",a),yield t.handleData.userExists(a).then(function(){var l=(0,_.A)(function*(r){console.log(r),r.isExist?t.commonService.alertBox("User Already Exist","Registration alert",["Ok"]):(t.userData.password=t.handleData.encryptPass(o.value.password),delete t.userData.cpassword,console.log("this.userData === ",t.userData),yield t.handleData.addUser(t.userData),t.localStr.setItem("currentUser",t.userData),t.commonService.isUserLoggedin=!0,t.commonService.currentUserEmail=a,t.localStr.setItem("isUserLoggedIn",t.commonService.isUserLoggedin),t.router.navigate(["/welcome"]),t.commonService.alertBox("Registration Successfully","Registration alert",["Ok"]),o.reset(),t.handleData.functionToSubscribeUser())});return function(r){return l.apply(this,arguments)}}()).catch(l=>{console.log(l)})}else t.commonService.alertBox("Form is invalid","Form alert",["Ok"])})()}facebookLogin(){var o=this;return(0,_.A)(function*(){try{o.socialLogin.facebookLogin().then(t=>{console.log("Facebook login successful:",t);let a=t;o.localStr.setItem("faceBookUserLog",a),a&&(o.userData.userEmail=a.email,o.userData.userName=a.name,o.userData.profilePicture=a.photoUrl,o.userData.email_verified=!0,o.userData.isSocialLogin=!0)}).catch(t=>{console.error("Error during Facebook login:",t)})}catch(t){o.commonService.alertBox(t,"Register alert",["Ok"])}})()}ionViewWillEnter(){this.pickUpLoc(),this.dropLoc()}pickUpLoc(){let o=document.getElementById("pickUpLocation");if(o){let t=o.getElementsByTagName("input")[0],a=new google.maps.places.Autocomplete(t,{types:["geocode"],componentRestrictions:{country:"in"}});google.maps.event.addListener(a,"place_changed",()=>{let l=a.getPlace();console.log("google place called",l),this.pickUpLocation=l.formatted_address})}}dropLoc(){let o=document.getElementById("dropLocation");if(o){let t=o.getElementsByTagName("input")[0],a=new google.maps.places.Autocomplete(t,{types:["geocode"],componentRestrictions:{country:"in"}});google.maps.event.addListener(a,"place_changed",()=>{let l=a.getPlace();console.log("google place called",l),this.dropLocation=l.formatted_address})}}}return(n=s).\u0275fac=function(o){return new(o||n)},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-register"]],standalone:!0,features:[e.\u0275\u0275ProvidersFeature([f.GooglePlaceModule]),e.\u0275\u0275StandaloneFeature],decls:47,vars:11,consts:[["registerUserForm","ngForm"],["name","ngModel"],["email","ngModel"],["mobile","ngModel"],["password","ngModel"],["cpassword","ngModel"],[3,"translucent"],["slot","start"],["defaultHref","/welcome"],[1,"ion-padding"],["autocomplete","on",3,"ngSubmit"],[1,"ion-margin"],["size","12",1,"ion-padding-bottom"],[1,"ion-no-padding"],["size","12","sizeMd","6",1,"ion-padding-bottom"],["label","Name","fill","outline","labelPlacement","stacked","name","name","placeholder","Enter your Name","required","","minlength","3",3,"ngModelChange","ngModel"],["class","error-text",4,"ngIf"],["type","email","label","Email","fill","outline","labelPlacement","stacked","placeholder","Enter your Email","name","email","required","","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$",3,"ngModelChange","ngModel"],["type","tel","label","Mobile","fill","outline","labelPlacement","stacked","name","mobile","placeholder","Enter your Mobile","required","","minlength","10","maxlength","10",3,"ngModelChange","ngModel"],["size","12",1,"ion-no-padding"],["label","Pick-up Location","fill","outline","labelPlacement","stacked","name","pickUpLocation","placeholder","Optional","id","pickUpLocation",3,"ngModelChange","ngModel"],["label","Drop Location","fill","outline","labelPlacement","stacked","name","dropLocation","placeholder","Optional","id","dropLocation",3,"ngModelChange","ngModel"],["size","12"],["type","submit",3,"disabled"],[1,"socialLogins"],[1,"ion-text-center"],[1,"socialIcons"],["id","google",1,"google"],[1,"faceBook",3,"click"],["slot","start",1,"facebookIcon"],["alt","facebook","src","../../../assets/images/svgs/facebook.svg"],[1,"error-text"],[4,"ngIf"],["type","password","fill","outline","label","Password","labelPlacement","stacked","name","password","placeholder","Enter your password","required","","minlength","6",3,"ngModelChange","ngModel"],["slot","end"],["type","password","fill","outline","label","Confirm Password","labelPlacement","stacked","name","cpassword","placeholder","Enter password again","required","",3,"ngModelChange","input","ngModel"]],template:function(o,t){if(1&o){const a=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-header",6)(1,"ion-toolbar")(2,"ion-buttons",7),e.\u0275\u0275element(3,"ion-back-button",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"ion-title"),e.\u0275\u0275text(5,"Register User"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(6,"ion-content",9)(7,"form",10,0),e.\u0275\u0275listener("ngSubmit",function(){e.\u0275\u0275restoreView(a);const r=e.\u0275\u0275reference(8);return e.\u0275\u0275resetView(t.onSubmit(r))}),e.\u0275\u0275elementStart(9,"ion-row",11)(10,"ion-col",12)(11,"ion-title",13),e.\u0275\u0275text(12,"Create Your Account"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(13,"ion-col",14)(14,"ion-input",15,1),e.\u0275\u0275twoWayListener("ngModelChange",function(r){return e.\u0275\u0275restoreView(a),e.\u0275\u0275twoWayBindingSet(t.userData.userName,r)||(t.userData.userName=r),e.\u0275\u0275resetView(r)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(16,w,3,2,"div",16),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"ion-col",14)(18,"ion-input",17,2),e.\u0275\u0275twoWayListener("ngModelChange",function(r){return e.\u0275\u0275restoreView(a),e.\u0275\u0275twoWayBindingSet(t.userData.userEmail,r)||(t.userData.userEmail=r),e.\u0275\u0275resetView(r)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(20,L,3,2,"div",16),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(21,U,11,5),e.\u0275\u0275elementStart(22,"ion-col",14)(23,"ion-input",18,3),e.\u0275\u0275twoWayListener("ngModelChange",function(r){return e.\u0275\u0275restoreView(a),e.\u0275\u0275twoWayBindingSet(t.userData.phone,r)||(t.userData.phone=r),e.\u0275\u0275resetView(r)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(25,B,3,2,"div",16),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"ion-col",12)(27,"ion-title",13),e.\u0275\u0275text(28,"Pick Up Points"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(29,"ion-col",19)(30,"ion-row")(31,"ion-col",14)(32,"ion-input",20),e.\u0275\u0275twoWayListener("ngModelChange",function(r){return e.\u0275\u0275restoreView(a),e.\u0275\u0275twoWayBindingSet(t.userData.pickUpLocation,r)||(t.userData.pickUpLocation=r),e.\u0275\u0275resetView(r)}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(33,"ion-col",14)(34,"ion-input",21),e.\u0275\u0275twoWayListener("ngModelChange",function(r){return e.\u0275\u0275restoreView(a),e.\u0275\u0275twoWayBindingSet(t.userData.dropLocation,r)||(t.userData.dropLocation=r),e.\u0275\u0275resetView(r)}),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(35,"ion-col",22)(36,"ion-button",23),e.\u0275\u0275text(37," Register "),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(38,"div",24)(39,"p",25),e.\u0275\u0275text(40,"Or Register With"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(41,"div",26),e.\u0275\u0275element(42,"div",27),e.\u0275\u0275elementStart(43,"ion-button",28),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(a),e.\u0275\u0275resetView(t.facebookLogin())}),e.\u0275\u0275elementStart(44,"ion-avatar",29),e.\u0275\u0275element(45,"img",30),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(46," Login with Facebook "),e.\u0275\u0275elementEnd()()()()}if(2&o){const a=e.\u0275\u0275reference(8),l=e.\u0275\u0275reference(15),r=e.\u0275\u0275reference(19),m=e.\u0275\u0275reference(24);e.\u0275\u0275property("translucent",!0),e.\u0275\u0275advance(14),e.\u0275\u0275twoWayProperty("ngModel",t.userData.userName),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",l.invalid&&(l.dirty||l.touched)),e.\u0275\u0275advance(2),e.\u0275\u0275twoWayProperty("ngModel",t.userData.userEmail),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",r.invalid&&(r.dirty||r.touched)),e.\u0275\u0275advance(),e.\u0275\u0275conditional(!1===t.userData.isSocialLogin?21:-1),e.\u0275\u0275advance(2),e.\u0275\u0275twoWayProperty("ngModel",t.userData.phone),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",m.invalid&&(m.dirty||m.touched)),e.\u0275\u0275advance(7),e.\u0275\u0275twoWayProperty("ngModel",t.userData.pickUpLocation),e.\u0275\u0275advance(2),e.\u0275\u0275twoWayProperty("ngModel",t.userData.dropLocation),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!a.form.valid||t.passCheck)}},dependencies:[d.mC,d.el,d.Jm,d.$w,d.hU,d.ln,d.QW,d.W9,d.eU,d.BC,d.ai,p.MD,p.bT,g.YN,g.qT,g.BC,g.cb,g.YS,g.xh,g.tU,g.R_,g.vS,g.cV,d.Wv],styles:[".socialIcons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;justify-content:center;align-items:center}.socialIcons[_ngcontent-%COMP%]   .google[_ngcontent-%COMP%], .socialIcons[_ngcontent-%COMP%]   .faceBook[_ngcontent-%COMP%]{width:350px}.socialIcons[_ngcontent-%COMP%]   .google[_ngcontent-%COMP%]   .facebookIcon[_ngcontent-%COMP%], .socialIcons[_ngcontent-%COMP%]   .faceBook[_ngcontent-%COMP%]   .facebookIcon[_ngcontent-%COMP%]{height:2rem;width:2rem;margin-right:1rem}.socialIcons[_ngcontent-%COMP%]   .google[_ngcontent-%COMP%]   .facebookIcon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .socialIcons[_ngcontent-%COMP%]   .faceBook[_ngcontent-%COMP%]   .facebookIcon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;line-height:0;border-radius:50%}"]}),s})()}}]);