"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[417],{8417:(f,l,i)=>{i.r(l),i.d(l,{MyUpdatePage:()=>u});var g=i(177),m=i(4341),o=i(1019),t=i(3953),p=i(3724),P=i(9520),M=i(2672),O=i(8986);function C(r,s){if(1&r){const a=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ion-card",3),t.\u0275\u0275listener("click",function(){const e=t.\u0275\u0275restoreView(a).index,c=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(c.rideDetailView(e))}),t.\u0275\u0275elementStart(1,"ion-header")(2,"ion-row",4)(3,"ion-col",5)(4,"div",6)(5,"div",7)(6,"div",8),t.\u0275\u0275element(7,"img",9)(8,"img",10),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"b"),t.\u0275\u0275text(10),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(11,"ion-col",11)(12,"div",6)(13,"div",12)(14,"div",13),t.\u0275\u0275element(15,"img",14),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(16,"b"),t.\u0275\u0275text(17),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(18,"ion-col",15)(19,"div",16)(20,"p"),t.\u0275\u0275text(21,"Duration"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(22,"p"),t.\u0275\u0275text(23),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(24,"div",16)(25,"p"),t.\u0275\u0275text(26,"Distance"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(27,"p"),t.\u0275\u0275text(28),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(29,"div",16)(30,"p"),t.\u0275\u0275text(31,"Ride Id"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(32,"p"),t.\u0275\u0275text(33),t.\u0275\u0275elementEnd()()()()()()}if(2&r){const a=s.$implicit;t.\u0275\u0275advance(10),t.\u0275\u0275textInterpolate(a.from),t.\u0275\u0275advance(7),t.\u0275\u0275textInterpolate(a.to),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(a.duration),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(a.distance),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(a.id)}}let u=(()=>{var r;class s{constructor(n,e,c,d,_){this.router=n,this.modalCtrl=e,this.commonService=c,this.localStr=d,this.handleData=_,this.journeyDuration=null}ngOnInit(){this.updateRideStatuses(),this.handleData.userExists(this.commonService.currentUserEmail).then(e=>{console.log("res.data === ",e.data),this.currentUserData=e.data,console.log("this.currentUserData.profile",this.currentUserData.profilePicture),console.log("this.currentUserData === ",this.currentUserData),this.rideList=this.currentUserData.ride.rideList,console.log("this.rideList",this.rideList),this.currentUserData&&Object.keys(this.currentUserData)})}updateRideStatuses(){const n=new Date;this.rideList&&this.rideList.forEach(e=>{const[c,d]=e.journeyEnd.split(":").map(Number);e.rideStatus=new Date(`${e.date.split("/").reverse().join("-")}T${c}:${d}:00`)<=n?"completed":"in-progress"})}rideDetailView(n){const c={queryParams:{ride:JSON.stringify(this.rideList[n])}};this.router.navigate(["/ride-detail-view"],c)}}return(r=s).\u0275fac=function(n){return new(n||r)(t.\u0275\u0275directiveInject(p.Ix),t.\u0275\u0275directiveInject(o.W3),t.\u0275\u0275directiveInject(P.h),t.\u0275\u0275directiveInject(M.s),t.\u0275\u0275directiveInject(O.K))},r.\u0275cmp=t.\u0275\u0275defineComponent({type:r,selectors:[["app-my-update"]],standalone:!0,features:[t.\u0275\u0275StandaloneFeature],decls:8,vars:2,consts:[[3,"translucent"],["slot","start"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"ion-padding"],["size","12",1,""],[1,"travelDetails"],[1,"location"],[1,"locationIcon","svg-container"],["src","../../../assets/images/svgs/start.svg","alt","",1,"pin-img"],["src","../../../assets/images/svgs/route.svg","alt",""],["size","12",1,"dest-container"],[1,"location","end"],[1,"locationIcon","round"],["src","../../../assets/images/svgs/round.svg","alt","",1,"pin-img","red-filter"],["size","12",1,"ride-detail-container"],[1,"ride-detail"]],template:function(n,e){1&n&&(t.\u0275\u0275elementStart(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),t.\u0275\u0275element(3,"ion-menu-button"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"ion-title"),t.\u0275\u0275text(5,"My Update"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(6,"ion-content"),t.\u0275\u0275template(7,C,34,5,"ion-card",2),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275property("translucent",!0),t.\u0275\u0275advance(7),t.\u0275\u0275property("ngForOf",e.rideList))},dependencies:[o.QW,o.MC,o.hU,o.ln,o.b_,o.W9,o.eU,o.BC,o.ai,g.MD,g.Sq,m.YN],styles:["ion-col{min-height:auto}ion-card[_ngcontent-%COMP%]{box-shadow:#0003 0 3px 25px 2px,#00000024 1px 3px 7px -2px,#0000001f -12px 12px 21px}ion-card[_ngcontent-%COMP%]   .travelDetails[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{font-weight:700;font-size:12px;color:#33a05e;padding-left:1.7rem}ion-card[_ngcontent-%COMP%]   .travelDetails[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{color:#bad4da;font-weight:700;font-size:12px;padding-left:1.7rem}ion-card[_ngcontent-%COMP%]   .travelDetails[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{font-size:16px;margin-top:0;margin-bottom:0;display:flex;gap:.5rem;align-items:flex-start}ion-card[_ngcontent-%COMP%]   .travelDetails[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]   .locationIcon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:1.5rem;width:1.5rem;color:#d3e3e7}ion-card[_ngcontent-%COMP%]   .timeSection[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}ion-card[_ngcontent-%COMP%]   .timeSection[_ngcontent-%COMP%]   .totalTimeTakenArea[_ngcontent-%COMP%]{width:8rem;height:-moz-fit-content;height:fit-content;position:relative;display:flex;justify-content:center}ion-card[_ngcontent-%COMP%]   .timeSection[_ngcontent-%COMP%]   .totalTimeTakenArea[_ngcontent-%COMP%]   .timeBox[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;background-color:#a9aeb7;padding:.1rem .5rem;border-radius:1rem;color:#33666c;font-size:11px}ion-card[_ngcontent-%COMP%]   .timeSection[_ngcontent-%COMP%]   .totalTimeTakenArea[_ngcontent-%COMP%]   .arrowIcon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:absolute;width:100%;left:0;height:1rem;top:10%;z-index:-1}ion-card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{height:.1rem;background-color:#d3e3e7;width:100%}ion-card[_ngcontent-%COMP%]   .userInfo[_ngcontent-%COMP%]{display:flex;gap:1rem}ion-card[_ngcontent-%COMP%]   .userInfo[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{--border-radius: 15%}ion-card[_ngcontent-%COMP%]   .userInfo[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-around}ion-card[_ngcontent-%COMP%]   .userInfo[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:11px}ion-card[_ngcontent-%COMP%]   .userInfo[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:15px}ion-card[_ngcontent-%COMP%]   .seatPriceSection[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:end}ion-card[_ngcontent-%COMP%]   .seatPriceSection[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{padding:.1rem .5rem;background-color:#279657;color:#fff;font-size:16px;border-radius:1rem}ion-card[_ngcontent-%COMP%]   .seatPriceSection[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%]{color:#fff;font-size:12px;padding:.2rem .7rem;border-radius:1rem}.pin-img[_ngcontent-%COMP%]{max-width:1.5rem}.location[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{white-space:nowrap;width:100%;overflow:hidden;text-overflow:ellipsis}ion-row.ion-padding-horizontal.md[_ngcontent-%COMP%]{display:flex;flex-direction:column}.red-filter[_ngcontent-%COMP%]{filter:grayscale(100%) sepia(100%) hue-rotate(-50deg) saturate(10000%)}.round[_ngcontent-%COMP%]{padding:0 .3rem}.svg-container[_ngcontent-%COMP%]{max-width:1.5rem;display:flex;flex-direction:column;gap:.5rem}.location[_ngcontent-%COMP%]{gap:.5rem}.ride-detail[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.ride-detail[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0}.ride-detail-container[_ngcontent-%COMP%]{padding-top:1rem;border-top:2px dashed rgba(128,128,128,.2196078431)}.dest-container[_ngcontent-%COMP%]{margin-bottom:1rem}"]}),s})()}}]);