"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[996],{1996:(ge,C,d)=>{d.r(C),d.d(C,{ProfilePage:()=>ue});var _=d(467),e=d(3953),u=d(177),s=d(4341),r=d(1019),x=d(3724),h=d(8986),g=d(2672),f=d(5079),m=d(5873),v=d(9520);function E(o,a){1&o&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"This field is required."),e.\u0275\u0275elementEnd())}function y(o,a){1&o&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1," Please provide a valid email "),e.\u0275\u0275elementEnd())}function w(o,a){if(1&o&&(e.\u0275\u0275elementStart(0,"div",29),e.\u0275\u0275template(1,E,2,0,"div",16)(2,y,2,0,"div",16),e.\u0275\u0275elementEnd()),2&o){e.\u0275\u0275nextContext();const i=e.\u0275\u0275reference(8);e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",null==i.errors?null:i.errors.required),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",null==i.errors?null:i.errors.pattern)}}function P(o,a){1&o&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1,"This field is required."),e.\u0275\u0275elementEnd())}function S(o,a){1&o&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1," Minimum length is 10 characters. "),e.\u0275\u0275elementEnd())}function b(o,a){if(1&o&&(e.\u0275\u0275elementStart(0,"div",29),e.\u0275\u0275template(1,P,2,0,"div",16)(2,S,2,0,"div",16),e.\u0275\u0275elementEnd()),2&o){e.\u0275\u0275nextContext();const i=e.\u0275\u0275reference(14);e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",null==i.errors?null:i.errors.required),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",null==i.errors?null:i.errors.minlength)}}function V(o,a){}function T(o,a){1&o&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1," This field is required. "),e.\u0275\u0275elementEnd())}function M(o,a){1&o&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1," Minimum length is 6 characters. "),e.\u0275\u0275elementEnd())}function D(o,a){if(1&o&&(e.\u0275\u0275elementStart(0,"div",29),e.\u0275\u0275template(1,T,2,0,"div",16)(2,M,2,0,"div",16),e.\u0275\u0275elementEnd()),2&o){e.\u0275\u0275nextContext();const i=e.\u0275\u0275reference(3);e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",null==i.errors?null:i.errors.required),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",null==i.errors?null:i.errors.minlength)}}function k(o,a){1&o&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1," This field is required. "),e.\u0275\u0275elementEnd())}function U(o,a){if(1&o&&(e.\u0275\u0275elementStart(0,"div",29),e.\u0275\u0275template(1,k,2,0,"div",16),e.\u0275\u0275elementEnd()),2&o){e.\u0275\u0275nextContext();const i=e.\u0275\u0275reference(8);e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",null==i.errors?null:i.errors.required)}}function I(o,a){1&o&&(e.\u0275\u0275elementStart(0,"div",29),e.\u0275\u0275text(1,"Passwords do not match."),e.\u0275\u0275elementEnd())}function W(o,a){if(1&o){const i=e.\u0275\u0275getCurrentView();e.\u0275\u0275template(0,V,0,0),e.\u0275\u0275elementStart(1,"ion-col",30)(2,"ion-input",31,3),e.\u0275\u0275twoWayListener("ngModelChange",function(t){e.\u0275\u0275restoreView(i);const l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275twoWayBindingSet(l.data.password,t)||(l.data.password=t),e.\u0275\u0275resetView(t)}),e.\u0275\u0275element(4,"ion-input-password-toggle",32),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(5,D,3,2,"div",21),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"ion-col",30)(7,"ion-input",33,4),e.\u0275\u0275twoWayListener("ngModelChange",function(t){e.\u0275\u0275restoreView(i);const l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275twoWayBindingSet(l.data.cpassword,t)||(l.data.cpassword=t),e.\u0275\u0275resetView(t)}),e.\u0275\u0275listener("input",function(){e.\u0275\u0275restoreView(i);const t=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(t.validatePassword())})("ngModelChange",function(){e.\u0275\u0275restoreView(i);const t=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(t.isPassTouched=!0)}),e.\u0275\u0275element(9,"ion-input-password-toggle",32),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(10,U,2,1,"div",21)(11,I,2,0,"div",21),e.\u0275\u0275elementEnd()}if(2&o){const i=e.\u0275\u0275reference(3),n=e.\u0275\u0275reference(8),t=e.\u0275\u0275nextContext(2);e.\u0275\u0275conditional(!1===t.data.isSocialLogin?0:-1),e.\u0275\u0275advance(2),e.\u0275\u0275twoWayProperty("ngModel",t.data.password),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",i.invalid&&(i.dirty||i.touched)),e.\u0275\u0275advance(2),e.\u0275\u0275twoWayProperty("ngModel",t.data.cpassword),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",n.invalid&&(n.dirty||n.touched)),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",t.passCheck)}}function N(o,a){if(1&o){const i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-card",11)(1,"ion-row")(2,"ion-col")(3,"ion-title",18),e.\u0275\u0275text(4," Edit personal details "),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(5,"ion-row")(6,"ion-col",19)(7,"ion-input",20,0),e.\u0275\u0275twoWayListener("ngModelChange",function(t){e.\u0275\u0275restoreView(i);const l=e.\u0275\u0275nextContext();return e.\u0275\u0275twoWayBindingSet(l.data.userEmail,t)||(l.data.userEmail=t),e.\u0275\u0275resetView(t)}),e.\u0275\u0275listener("ngModelChange",function(){e.\u0275\u0275restoreView(i);const t=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(t.isEmailTouched=!0)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(9,w,3,2,"div",21),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"ion-col",19)(11,"ion-input",22),e.\u0275\u0275twoWayListener("ngModelChange",function(t){e.\u0275\u0275restoreView(i);const l=e.\u0275\u0275nextContext();return e.\u0275\u0275twoWayBindingSet(l.data.userName,t)||(l.data.userName=t),e.\u0275\u0275resetView(t)}),e.\u0275\u0275listener("ngModelChange",function(){e.\u0275\u0275restoreView(i);const t=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(t.isNameTouched=!0)}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"ion-col",19)(13,"ion-input",23,1),e.\u0275\u0275twoWayListener("ngModelChange",function(t){e.\u0275\u0275restoreView(i);const l=e.\u0275\u0275nextContext();return e.\u0275\u0275twoWayBindingSet(l.data.phone,t)||(l.data.phone=t),e.\u0275\u0275resetView(t)}),e.\u0275\u0275listener("ngModelChange",function(){e.\u0275\u0275restoreView(i);const t=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(t.isPhoneTouched=!0)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(15,b,3,2,"div",21),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"ion-col",19)(17,"ion-select",24,2),e.\u0275\u0275twoWayListener("ngModelChange",function(t){e.\u0275\u0275restoreView(i);const l=e.\u0275\u0275nextContext();return e.\u0275\u0275twoWayBindingSet(l.data.gender,t)||(l.data.gender=t),e.\u0275\u0275resetView(t)}),e.\u0275\u0275listener("ngModelChange",function(){e.\u0275\u0275restoreView(i);const t=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(t.isGenderTouched=!0)}),e.\u0275\u0275elementStart(19,"ion-select-option",25),e.\u0275\u0275text(20,"Male"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"ion-select-option",26),e.\u0275\u0275text(22,"Female"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"ion-select-option",27),e.\u0275\u0275text(24,"Others"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(25,"ion-col",19)(26,"ion-toggle",28),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(i);const t=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(t.togglePassChange())}),e.\u0275\u0275text(27," Change Password "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(28,W,12,6),e.\u0275\u0275elementEnd()()}if(2&o){const i=e.\u0275\u0275reference(8),n=e.\u0275\u0275reference(14),t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(7),e.\u0275\u0275twoWayProperty("ngModel",t.data.userEmail),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.invalid&&(i.dirty||i.touched)),e.\u0275\u0275advance(2),e.\u0275\u0275twoWayProperty("ngModel",t.data.userName),e.\u0275\u0275advance(2),e.\u0275\u0275twoWayProperty("ngModel",t.data.phone),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.invalid&&(n.dirty||n.touched)),e.\u0275\u0275advance(2),e.\u0275\u0275twoWayProperty("ngModel",t.data.gender),e.\u0275\u0275advance(9),e.\u0275\u0275property("enableOnOffLabels",!0),e.\u0275\u0275advance(2),e.\u0275\u0275conditional(t.changePass?28:-1)}}function O(o,a){1&o&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1," This field is required. "),e.\u0275\u0275elementEnd())}function F(o,a){if(1&o&&(e.\u0275\u0275elementStart(0,"div",29),e.\u0275\u0275template(1,O,2,0,"div",16),e.\u0275\u0275elementEnd()),2&o){e.\u0275\u0275nextContext();const i=e.\u0275\u0275reference(8);e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",null==i.errors?null:i.errors.required)}}function B(o,a){1&o&&(e.\u0275\u0275elementStart(0,"div",29)(1,"div"),e.\u0275\u0275text(2,"This field is required for "),e.\u0275\u0275elementStart(3,"strong"),e.\u0275\u0275text(4,"drivers"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(5,"."),e.\u0275\u0275elementEnd()())}function L(o,a){if(1&o&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275element(1,"img",39),e.\u0275\u0275elementEnd()),2&o){const i=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(),e.\u0275\u0275property("src",null==i.data.govtDocs?null:i.data.govtDocs.url,e.\u0275\u0275sanitizeUrl)}}function j(o,a){if(1&o&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275element(1,"iframe",40),e.\u0275\u0275elementEnd()),2&o){const i=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(),e.\u0275\u0275property("src",null==i.data.govtDocs?null:i.data.govtDocs.url,e.\u0275\u0275sanitizeResourceUrl)}}function z(o,a){if(1&o&&(e.\u0275\u0275elementStart(0,"div")(1,"a",41),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&o){const i=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(),e.\u0275\u0275propertyInterpolate("download",null==i.data.govtDocs?null:i.data.govtDocs.fileDetails.name),e.\u0275\u0275property("href",null==i.data.govtDocs?null:i.data.govtDocs.url,e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate1("Download ",null==i.data.govtDocs?null:i.data.govtDocs.fileDetails.name,"")}}function G(o,a){if(1&o&&(e.\u0275\u0275elementStart(0,"div")(1,"h4"),e.\u0275\u0275text(2,"File Preview:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(3,L,2,1,"div",16)(4,j,2,1,"div",16)(5,z,3,3,"div",16),e.\u0275\u0275elementEnd()),2&o){const i=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",null==i.data.govtDocs?null:i.data.govtDocs.fileDetails.type.startsWith("image/")),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf","application/pdf"===(null==i.data.govtDocs?null:i.data.govtDocs.fileDetails.type)),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf","image/"!==(null==i.data.govtDocs?null:i.data.govtDocs.fileDetails.type)&&"application/pdf"!==(null==i.data.govtDocs?null:i.data.govtDocs.fileDetails.type))}}function q(o,a){if(1&o){const i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-card",11)(1,"ion-row")(2,"ion-col")(3,"ion-title",18),e.\u0275\u0275text(4," Verify docs "),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(5,"ion-row")(6,"ion-col",19)(7,"ion-select",34,5),e.\u0275\u0275twoWayListener("ngModelChange",function(t){e.\u0275\u0275restoreView(i);const l=e.\u0275\u0275nextContext();return e.\u0275\u0275twoWayBindingSet(l.data.docType,t)||(l.data.docType=t),e.\u0275\u0275resetView(t)}),e.\u0275\u0275elementStart(9,"ion-select-option",35),e.\u0275\u0275text(10,"Adhaar Card"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"ion-select-option",36),e.\u0275\u0275text(12,"Pen Card"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"ion-select-option",37),e.\u0275\u0275text(14,"Others"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(15,F,2,1,"div",21),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"ion-col",19)(17,"ion-input",38),e.\u0275\u0275listener("input",function(t){e.\u0275\u0275restoreView(i);const l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.onFileSelected(t))})("change",function(t){e.\u0275\u0275restoreView(i);const l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.onDocumentUpload(t))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(18,B,6,0,"div",21)(19,G,6,3,"div",16),e.\u0275\u0275elementEnd()()()}if(2&o){const i=e.\u0275\u0275reference(8),n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(7),e.\u0275\u0275twoWayProperty("ngModel",n.data.docType),e.\u0275\u0275advance(8),e.\u0275\u0275property("ngIf",i.invalid&&(i.dirty||i.touched)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!1===n.checkDocs&&"driver"===n.userRole),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",null==n.data.govtDocs?null:n.data.govtDocs.url)}}function A(o,a){if(1&o){const i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-card",11)(1,"ion-row")(2,"ion-col")(3,"ion-title",18),e.\u0275\u0275text(4," Vehicle details "),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(5,"ion-row")(6,"ion-col",19)(7,"ion-select",42,6),e.\u0275\u0275twoWayListener("ngModelChange",function(t){e.\u0275\u0275restoreView(i);const l=e.\u0275\u0275nextContext();return e.\u0275\u0275twoWayBindingSet(l.vehicle.vehicleDetails.vehicleType,t)||(l.vehicle.vehicleDetails.vehicleType=t),e.\u0275\u0275resetView(t)}),e.\u0275\u0275elementStart(9,"ion-select-option",43),e.\u0275\u0275text(10,"Car"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"ion-select-option",44),e.\u0275\u0275text(12,"Bus"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(13,"ion-col",19)(14,"ion-input",45),e.\u0275\u0275twoWayListener("ngModelChange",function(t){e.\u0275\u0275restoreView(i);const l=e.\u0275\u0275nextContext();return e.\u0275\u0275twoWayBindingSet(l.vehicle.vehicleDetails.vehicleName,t)||(l.vehicle.vehicleDetails.vehicleName=t),e.\u0275\u0275resetView(t)}),e.\u0275\u0275listener("ngModelChange",function(t){e.\u0275\u0275restoreView(i);const l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.vehicle.vehicleDetails.vehicleName=t.toUpperCase())}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(15,"ion-col",19)(16,"ion-input",46),e.\u0275\u0275twoWayListener("ngModelChange",function(t){e.\u0275\u0275restoreView(i);const l=e.\u0275\u0275nextContext();return e.\u0275\u0275twoWayBindingSet(l.vehicle.vehicleDetails.vehicleNumber,t)||(l.vehicle.vehicleDetails.vehicleNumber=t),e.\u0275\u0275resetView(t)}),e.\u0275\u0275listener("ngModelChange",function(t){e.\u0275\u0275restoreView(i);const l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.vehicle.vehicleDetails.vehicleNumber=t.toUpperCase())}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(17,"ion-col",19)(18,"ion-input",47),e.\u0275\u0275twoWayListener("ngModelChange",function(t){e.\u0275\u0275restoreView(i);const l=e.\u0275\u0275nextContext();return e.\u0275\u0275twoWayBindingSet(l.vehicle.vehicleDetails.vehicleColor,t)||(l.vehicle.vehicleDetails.vehicleColor=t),e.\u0275\u0275resetView(t)}),e.\u0275\u0275listener("ngModelChange",function(t){e.\u0275\u0275restoreView(i);const l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.vehicle.vehicleDetails.vehicleColor=l.capitalizeFirstLetter(t))}),e.\u0275\u0275elementEnd()()()()}if(2&o){const i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(7),e.\u0275\u0275twoWayProperty("ngModel",i.vehicle.vehicleDetails.vehicleType),e.\u0275\u0275advance(7),e.\u0275\u0275twoWayProperty("ngModel",i.vehicle.vehicleDetails.vehicleName),e.\u0275\u0275advance(2),e.\u0275\u0275twoWayProperty("ngModel",i.vehicle.vehicleDetails.vehicleNumber),e.\u0275\u0275advance(2),e.\u0275\u0275twoWayProperty("ngModel",i.vehicle.vehicleDetails.vehicleColor)}}function R(o,a){if(1&o){const i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-card",11)(1,"ion-row")(2,"ion-col")(3,"ion-title",18),e.\u0275\u0275text(4," About you "),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(5,"ion-row")(6,"ion-col",19)(7,"ion-input",48),e.\u0275\u0275twoWayListener("ngModelChange",function(t){e.\u0275\u0275restoreView(i);const l=e.\u0275\u0275nextContext();return e.\u0275\u0275twoWayBindingSet(l.about.miniBio,t)||(l.about.miniBio=t),e.\u0275\u0275resetView(t)}),e.\u0275\u0275listener("ngModelChange",function(){e.\u0275\u0275restoreView(i);const t=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(t.isAboutTouched=!0)}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"ion-col",19)(9,"ion-select",49,7),e.\u0275\u0275twoWayListener("ngModelChange",function(t){e.\u0275\u0275restoreView(i);const l=e.\u0275\u0275nextContext();return e.\u0275\u0275twoWayBindingSet(l.about.travelPreference,t)||(l.about.travelPreference=t),e.\u0275\u0275resetView(t)}),e.\u0275\u0275listener("ngModelChange",function(){e.\u0275\u0275restoreView(i);const t=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(t.isPrefTouched=!0)}),e.\u0275\u0275elementStart(11,"ion-select-option",50),e.\u0275\u0275text(12,"Smoker"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"ion-select-option",51),e.\u0275\u0275text(14,"Non-Smoker"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(15,"hr"),e.\u0275\u0275elementStart(16,"ion-select-option",25),e.\u0275\u0275text(17,"Male"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"ion-select-option",26),e.\u0275\u0275text(19,"Female"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"ion-select-option",27),e.\u0275\u0275text(21,"Others"),e.\u0275\u0275elementEnd()()()()()}if(2&o){const i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(7),e.\u0275\u0275twoWayProperty("ngModel",i.about.miniBio),e.\u0275\u0275advance(2),e.\u0275\u0275twoWayProperty("ngModel",i.about.travelPreference)}}function Y(o,a){if(1&o){const i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-button",52),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(i);const t=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(t.updateData())}),e.\u0275\u0275elementStart(1,"span"),e.\u0275\u0275text(2," Add "),e.\u0275\u0275elementEnd()()}if(2&o){const i=e.\u0275\u0275nextContext();e.\u0275\u0275property("disabled",!i.vehicleDetailsAuth())}}function J(o,a){if(1&o){const i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"ion-button",52),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(i);const t=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(t.updateData())}),e.\u0275\u0275elementStart(2,"span"),e.\u0275\u0275text(3," Update "),e.\u0275\u0275elementEnd()()()}if(2&o){const i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275property("disabled",!i.onFieldChange())}}let K=(()=>{var o;class a{onFieldChange(){return this.isEmailTouched||this.isPassTouched||this.isNameTouched||this.isDocTouched||this.isPhoneTouched||this.isDocumentUploaded||this.isGenderTouched||this.isAboutTouched||this.isPrefTouched}onDocumentUpload(n){this.isDocumentUploaded=!0}vehicleDetailsAuth(){const{vehicleType:n,vehicleName:t,vehicleNumber:l,vehicleColor:c}=this.vehicle.vehicleDetails;return!!(n&&t&&l&&c)}constructor(){this.modalCtrl=(0,e.inject)(r.W3),this.handleData=(0,e.inject)(h.K),this.localStr=(0,e.inject)(g.s),this.commonService=(0,e.inject)(v.h),this.checkDocs=!1,this.userRole="passenger",this.vehicle={vehicleDetails:{vehicleType:"",vehicleNumber:"",vehicleName:"",vehicleColor:""},vehicleList:[]},this.about={miniBio:"",travelPreference:[]},this.govtDocs={fileDetails:"",url:""},this.isEmailTouched=!1,this.isPassTouched=!1,this.isNameTouched=!1,this.isPhoneTouched=!1,this.isDocTouched=!1,this.isGenderTouched=!1,this.isDocumentUploaded=!1,this.isAboutTouched=!1,this.isPrefTouched=!1,this.passCheck=!1,this.changePass=!1,(0,f.a)({close:m.VNx})}ngOnInit(){console.log("addGovtIdClicked === ",this.addGovtIdClicked),console.log("addVehicleClicked === ",this.addVehicleClicked),console.log("this.data.cpassword === ",this.data.cpassword),this.handleData.userExists(this.data.userEmail).then(n=>{this.data=n.data,console.log("this.data updated === ",this.data),this.localStr.setItem("currentUser",this.data),this.data.vehicle&&(this.addVehicleClicked?this.vehicle.vehicleList=this.data.vehicle.vehicleList:console.log("hero")),this.data.about&&(this.about=this.data.about),this.data.govtDocs&&(this.govtDocs=this.data.govtDocs)}).catch(n=>{console.error("Error: ",n)}),console.log("edit modal",this.data)}validatePassword(){this.passCheck=this.data.password!=this.data.cpassword}togglePassChange(){this.changePass=!this.changePass}capitalizeFirstLetter(n){return n?n.charAt(0).toUpperCase()+n.slice(1).toLowerCase():""}updateData(){var n=this;return(0,_.A)(function*(){n.data?(console.log("this.data === ",n.data),console.log("this.changePass === ",n.changePass),1==n.changePass&&void 0===n.data.cpassword&&(n.data.cpassword=n.handleData.encryptPass(n.data.password),n.data.password=n.data.cpassword),1==n.changePass&&void 0!==n.data.cpassword&&(n.data.cpassword=n.handleData.encryptPass(n.data.password),n.data.password=n.data.cpassword),n.file?n.handleData.fileUploadToFirebase(n.file).then(l=>{n.govtDocs={fileDetails:n.fileDetails,url:l},n.data.govtDocs=n.govtDocs,console.log("Updated File Details with URL:",n.data.govtDocs),n.updateDoc()}).catch(l=>{console.error("Error: ",l)}):n.updateDoc()):console.error("Error: this.data is null or undefined.")})()}updateDoc(){const n=this.localStr.getItem("currentUserDocId");this.addVehicleClicked&&(this.vehicle.vehicleList.unshift(this.vehicle.vehicleDetails),this.handleData.updateDocumentField(n,"vehicle",this.vehicle));let t={...this.data,about:this.about,govtDocs:this.govtDocs};"driver"===this.userRole&&!0===this.checkDocs?console.log("_data : ",t):(console.log("edit else modal",t),n?this.handleData.updateDocument(n,t).then(()=>{this.handleData.userExists(this.data.userEmail).then(c=>{this.data=c.data,console.log("this.data updated === ",this.data),this.localStr.setItem("currentUser",this.data),this.localStr.setItem("currentUser",t),this.modalCtrl.dismiss(t.vehicle.vehicleList),this.close()}).catch(c=>{console.error("Error: ",c)})}):console.error("Error: currentUserDocId is null or undefined."))}close(){this.modalCtrl.dismiss()}onFileSelected(n){const t=n.target.files[0];t&&(this.file=t,this.checkDocs=!0,this.fileDetails={name:t.name,size:t.size,type:t.type,lastModified:t.lastModified},console.log("File Details:",this.fileDetails))}}return(o=a).\u0275fac=function(n){return new(n||o)},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-edit-card"]],inputs:{data:"data",addVehicleClicked:"addVehicleClicked",addGovtIdClicked:"addGovtIdClicked"},standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:20,vars:8,consts:[["email","ngModel"],["mobile","ngModel"],["gender","ngModel"],["password","ngModel"],["cpassword","ngModel"],["docType","ngModel"],["vehicleType","ngModel"],["travelPreference","ngModel"],[3,"translucent"],["slot","end","color","none",1,"shadow-none",3,"click"],["name","close","color","dark"],[1,"ion-padding"],["class","ion-padding",4,"ngIf"],[1,"ion-padding-horizontal"],[1,"py-4"],["class","success","expand","block",3,"disabled","click",4,"ngIf"],[4,"ngIf"],["expand","block",1,"danger",3,"click"],[1,"ion-no-padding"],["size","12",1,"ion-padding-bottom"],["type","email","label","Email","fill","outline","labelPlacement","stacked","placeholder","Enter your Email","name","email","required","","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$",3,"ngModelChange","ngModel"],["class","error-text",4,"ngIf"],["type","text","label","Name","fill","outline","labelPlacement","stacked","placeholder","Enter your Name","name","name","required","",3,"ngModelChange","ngModel"],["type","phone","label","Phone","fill","outline","labelPlacement","stacked","placeholder","Enter your phone","name","mobile","placeholder","Enter your Mobile","required","","minlength","10","maxlength","10",3,"ngModelChange","ngModel"],["label","Gender","fill","outline","labelPlacement","stacked","interface","popover","placeholder","Select Gender","justify","space-between","name","gender",3,"ngModelChange","ngModel"],["value","male"],["value","female"],["value","others"],["justify","space-between",3,"click","enableOnOffLabels"],[1,"error-text"],["size","12","sizeMd","6",1,"ion-padding-bottom"],["type","password","fill","outline","label","Password","labelPlacement","stacked","name","password","placeholder","Enter your password","required","","minlength","6",3,"ngModelChange","ngModel"],["slot","end"],["type","password","fill","outline","label","Confirm Password","labelPlacement","stacked","name","cpassword","placeholder","Enter password again","required","",3,"ngModelChange","input","ngModel"],["label","Govt. document type","fill","outline","labelPlacement","stacked","interface","popover","placeholder","Select Doc Type","justify","space-between","name","docType","required","",3,"ngModelChange","ngModel"],["value","Adhaar Card"],["value","Pen Card"],["value","Others"],["type","file","label","Verify your Govt. ID","fill","outline","labelPlacement","stacked","placeholder","Upload Doc","name","govtDocs","required","",3,"input","change"],["alt","File Preview",2,"max-width","100%",3,"src"],["width","100%","height","600px",3,"src"],[3,"href","download"],["label","Vehicle Type","fill","outline","labelPlacement","stacked","interface","popover","placeholder","Select Vehicle Type","justify","space-between","name","vehicleType","required","",3,"ngModelChange","ngModel"],["value","Car"],["value","Bus"],["type","text","label","Vehicle Name","fill","outline","labelPlacement","stacked","placeholder","Enter your vehicle name","name","vehicleName","required","",3,"ngModelChange","ngModel"],["type","text","label","Vehicle Number","fill","outline","labelPlacement","stacked","placeholder","Enter your vehicle number","name","vehicleNumber","required","",3,"ngModelChange","ngModel"],["type","text","label","Vehicle Color","fill","outline","labelPlacement","stacked","placeholder","Enter your vehicle Color","name","vehicleColor","required","",3,"ngModelChange","ngModel"],["type","text","label","Mini Bio","fill","outline","labelPlacement","stacked","placeholder","Enter your mini bio","name","miniBio","required","",3,"ngModelChange","ngModel"],["label","Preferences","fill","outline","labelPlacement","stacked","interface","popover","placeholder","Select Preferences","justify","space-between","name","travelPreference","multiple","true",3,"ngModelChange","ngModel"],["value","smoker"],["value","nonSmoker"],["expand","block",1,"success",3,"click","disabled"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"ion-header",8)(1,"ion-toolbar")(2,"ion-title"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"ion-button",9),e.\u0275\u0275listener("click",function(){return t.close()}),e.\u0275\u0275element(5,"ion-icon",10),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(6,"ion-content",11),e.\u0275\u0275template(7,N,29,8,"ion-card",12)(8,q,20,4,"ion-card",12)(9,A,19,4,"ion-card",12)(10,R,22,2,"ion-card",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"ion-footer",13)(12,"ion-row",14)(13,"ion-col"),e.\u0275\u0275template(14,Y,3,1,"ion-button",15)(15,J,4,1,"div",16),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"ion-col")(17,"ion-button",17),e.\u0275\u0275listener("click",function(){return t.close()}),e.\u0275\u0275elementStart(18,"span"),e.\u0275\u0275text(19,"Cancel"),e.\u0275\u0275elementEnd()()()()()),2&n&&(e.\u0275\u0275property("translucent",!0),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",!0===t.addVehicleClicked?"Add Vehicle details":"Edit Profile",""),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",!t.addVehicleClicked),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",!t.addVehicleClicked),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",t.addVehicleClicked),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",!t.addVehicleClicked),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",t.addVehicleClicked),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",!t.addVehicleClicked))},dependencies:[r.M0,r.BY,r.ln,r.$w,r.hU,r.b_,r.W9,r.Jm,r.BC,r.ai,r.iq,r.eU,u.MD,u.bT,s.YN,s.BC,s.YS,s.xh,s.tU,s.R_,s.vS,r.Wv,r.Nm,r.Ip],styles:["ion-toggle[_ngcontent-%COMP%]{width:100%}.py-4[_ngcontent-%COMP%]{padding:.3rem 0}ion-input[_ngcontent-%COMP%]   input[type=file i][_ngcontent-%COMP%]::-webkit-file-upload-button{padding:.5rem 1rem!important;background:var(--primary-btn);background-color:var(--primary-btn)!important}"]}),a})(),H=(()=>{var o;class a{constructor(){this.vehicleType="",this.vehicleNumber="",this.vehicleName="",this.vehicleColor="",this.modalCtrl=(0,e.inject)(r.W3),this.handleData=(0,e.inject)(h.K),this.localStr=(0,e.inject)(g.s),(0,f.a)({close:m.VNx})}ngOnInit(){console.log("this.data.vehicle === ",this.data.vehicle),console.log("selectedVehicle === ",this.selectedVehicle),this.vehicleType=this.selectedVehicle.vehicleType,this.vehicleColor=this.selectedVehicle.vehicleColor,this.vehicleName=this.selectedVehicle.vehicleName,this.vehicleNumber=this.selectedVehicle.vehicleNumber}updateVehicle(){var n=this;return(0,_.A)(function*(){const t=n.selectedVehicle;if(console.log("matchedVehicle === ",t),t){t.vehicleType=n.vehicleType,t.vehicleName=n.vehicleName,t.vehicleColor=n.vehicleColor;const l=n.localStr.getItem("currentUserDocId");yield n.handleData.updateDocumentField(l,"vehicle",n.data.vehicle),n.modalCtrl.dismiss(n.data.vehicle)}})()}close(){this.modalCtrl.dismiss()}}return(o=a).\u0275fac=function(n){return new(n||o)},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-edit-vehicle"]],inputs:{data:"data",selectedVehicle:"selectedVehicle"},standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:29,vars:5,consts:[[3,"translucent"],["slot","end","color","none",1,"shadow-none",3,"click"],["name","close","color","dark"],[1,"ion-padding"],[1,"ion-no-padding"],["size","12",1,"ion-padding-bottom"],["label","Vehicle Type","fill","outline","labelPlacement","stacked","interface","popover","placeholder","Select Vehicle Type","justify","space-between","name","vehicleType","required","",3,"ngModelChange","ngModel"],["value","Car"],["value","Bus"],["type","text","label","Vehicle Name","fill","outline","labelPlacement","stacked","placeholder","Enter your vehicle name","name","vehicleName","required","",3,"ngModelChange","ngModel"],["type","text","label","Vehicle Number","fill","outline","labelPlacement","stacked","placeholder","Enter your vehicle number","name","vehicleNumber","disabled","",1,"vehicleNumber",3,"ngModelChange","ngModel"],["type","text","label","Vehicle Color","fill","outline","labelPlacement","stacked","placeholder","Enter your vehicle Color","name","vehicleColor","required","",3,"ngModelChange","ngModel"],["expand","block",1,"success",3,"click"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e.\u0275\u0275text(3," Edit Vehicle"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"ion-button",1),e.\u0275\u0275listener("click",function(){return t.close()}),e.\u0275\u0275element(5,"ion-icon",2),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(6,"ion-content")(7,"ion-card",3)(8,"ion-row")(9,"ion-col")(10,"ion-title",4),e.\u0275\u0275text(11," Vehicle details "),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(12,"ion-row")(13,"ion-col",5)(14,"ion-select",6),e.\u0275\u0275twoWayListener("ngModelChange",function(c){return e.\u0275\u0275twoWayBindingSet(t.vehicleType,c)||(t.vehicleType=c),c}),e.\u0275\u0275elementStart(15,"ion-select-option",7),e.\u0275\u0275text(16,"Car"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"ion-select-option",8),e.\u0275\u0275text(18,"Bus"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(19,"ion-col",5)(20,"ion-input",9),e.\u0275\u0275twoWayListener("ngModelChange",function(c){return e.\u0275\u0275twoWayBindingSet(t.vehicleName,c)||(t.vehicleName=c),c}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(21,"ion-col",5)(22,"ion-input",10),e.\u0275\u0275twoWayListener("ngModelChange",function(c){return e.\u0275\u0275twoWayBindingSet(t.vehicleNumber,c)||(t.vehicleNumber=c),c}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(23,"ion-col",5)(24,"ion-input",11),e.\u0275\u0275twoWayListener("ngModelChange",function(c){return e.\u0275\u0275twoWayBindingSet(t.vehicleColor,c)||(t.vehicleColor=c),c}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(25,"ion-col")(26,"ion-button",12),e.\u0275\u0275listener("click",function(){return t.updateVehicle()}),e.\u0275\u0275elementStart(27,"span"),e.\u0275\u0275text(28," Update "),e.\u0275\u0275elementEnd()()()()()()),2&n&&(e.\u0275\u0275property("translucent",!0),e.\u0275\u0275advance(14),e.\u0275\u0275twoWayProperty("ngModel",t.vehicleType),e.\u0275\u0275advance(6),e.\u0275\u0275twoWayProperty("ngModel",t.vehicleName),e.\u0275\u0275advance(2),e.\u0275\u0275twoWayProperty("ngModel",t.vehicleNumber),e.\u0275\u0275advance(2),e.\u0275\u0275twoWayProperty("ngModel",t.vehicleColor))},dependencies:[r.iq,r.ai,r.eU,r.W9,r.Jm,r.BC,r.hU,r.ln,r.$w,r.b_,r.Nm,r.Ip,s.YN,s.BC,s.YS,s.vS],styles:[".vehicleNumber[_ngcontent-%COMP%]:hover{cursor:not-allowed}"]}),a})();const Q=()=>[];function X(o,a){if(1&o&&e.\u0275\u0275element(0,"img",4),2&o){const i=e.\u0275\u0275nextContext();e.\u0275\u0275property("src",i.currentUser.profilePicture,e.\u0275\u0275sanitizeUrl)}}function Z(o,a){if(1&o&&e.\u0275\u0275element(0,"img",5),2&o){const i=e.\u0275\u0275nextContext();e.\u0275\u0275property("src",i.uploadedFileUrl,e.\u0275\u0275sanitizeUrl)}}function $(o,a){1&o&&e.\u0275\u0275element(0,"img",6)}function ee(o,a){if(1&o&&e.\u0275\u0275element(0,"ion-icon",22),2&o){const i=a.index,n=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("name",i<n.RoundOfStar?"star":"star-outline")}}function te(o,a){1&o&&(e.\u0275\u0275elementStart(0,"ion-label",13)(1,"div",20),e.\u0275\u0275template(2,ee,1,1,"ion-icon",21),e.\u0275\u0275elementEnd()()),2&o&&(e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pureFunction0(1,Q).constructor(5)))}function ne(o,a){if(1&o&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,te,3,2,"ion-label",17),e.\u0275\u0275elementEnd()),2&o){const i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",i.averageStars)}}function ie(o,a){1&o&&(e.\u0275\u0275elementStart(0,"div",9),e.\u0275\u0275text(1,"No rating yet"),e.\u0275\u0275elementEnd())}function oe(o,a){if(1&o&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275element(1,"img",5),e.\u0275\u0275elementEnd()),2&o){const i=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(),e.\u0275\u0275property("src",i.uploadedFileUrl,e.\u0275\u0275sanitizeUrl)}}function le(o,a){if(1&o){const i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-item",18)(1,"ion-input",23),e.\u0275\u0275listener("input",function(t){e.\u0275\u0275restoreView(i);const l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.onFileSelected(t))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"ion-button",24),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(i);const t=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(t.uploadFile())}),e.\u0275\u0275text(3,"Upload"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"ion-content"),e.\u0275\u0275template(5,oe,2,1,"div",19),e.\u0275\u0275elementEnd()}if(2&o){const i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",i.uploadedFileUrl)}}function ae(o,a){1&o&&(e.\u0275\u0275elementStart(0,"ion-label",13),e.\u0275\u0275text(1," Verify your Govt. ID "),e.\u0275\u0275elementEnd())}function re(o,a){1&o&&(e.\u0275\u0275elementStart(0,"ion-label",13),e.\u0275\u0275text(1," Govt. ID Verified "),e.\u0275\u0275elementEnd())}function ce(o,a){if(1&o&&(e.\u0275\u0275elementStart(0,"ion-label",13),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&o){const i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate1(" Confirm email ",i.currentUser.userEmail," ")}}function de(o,a){if(1&o&&(e.\u0275\u0275elementStart(0,"ion-label",13),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&o){const i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate1(" ",i.currentUser.userEmail," ")}}function se(o,a){if(1&o&&(e.\u0275\u0275elementStart(0,"ion-label",13),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&o){const i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate1(" Confirm phone number ",i.currentUser.phone," ")}}function me(o,a){if(1&o&&(e.\u0275\u0275elementStart(0,"ion-label",13),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&o){const i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate1(" ",i.currentUser.phone," ")}}function pe(o,a){if(1&o){const i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"ion-card")(2,"ion-row",26)(3,"ion-col")(4,"div")(5,"h1",27)(6,"span"),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"span"),e.\u0275\u0275element(9,"ion-icon",28),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"div",29)(11,"p"),e.\u0275\u0275text(12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"p",30),e.\u0275\u0275text(14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"p"),e.\u0275\u0275text(16),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(17,"div",31)(18,"button",32),e.\u0275\u0275listener("click",function(){const t=e.\u0275\u0275restoreView(i).index,l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.editVehicle(t))}),e.\u0275\u0275text(19," Edit Vehicle "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"button",33),e.\u0275\u0275listener("click",function(){const t=e.\u0275\u0275restoreView(i).index,l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.deleteVehicle(t))}),e.\u0275\u0275text(21," Delete Vehicle "),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(22,"ion-row"),e.\u0275\u0275element(23,"div",34),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd()}if(2&o){const i=a.$implicit;e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate1(" ",i.vehicleName,""),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(i.vehicleType),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" | ",i.vehicleColor," |"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(i.vehicleNumber)}}function _e(o,a){if(1&o&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,pe,24,4,"ng-container",25),e.\u0275\u0275elementContainerEnd()),2&o){const i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275property("ngForOf",i.vehicle)}}let ue=(()=>{var o;class a{constructor(n,t,l){this.commonService=n,this.localStr=t,this.handleData=l,this.router=(0,e.inject)(x.Ix),this.modalCtrl=(0,e.inject)(r.W3),this.currentUser="",this.showUploadOption=!1,this.isPhoneVerified=!1,this.isGovtIdVerified=!1,this.addVehicleClicked=!1,this.vehicle=[],this.addVehicle=!1,this.selectedFile=null,this.uploadedFileUrl=null,(0,f.a)({addCircleOutline:m.CDT,create:m.vtF,carSportOutline:m.JOI,carSport:m.pUp,car:m.$Lw,star:m.d49})}ngOnInit(){this.currentUserDocId=this.localStr.getItem("currentUserDocId"),console.log("uploadedFileUrl",this.uploadedFileUrl);const n=this.commonService.currentUserEmail;console.log("currentUserEmail === ",n),this.handleData.userExists(n).then(p=>{this.currentUserData=p.data,console.log("current user data",this.currentUserData),this.currentUser=p.data,this.averageStars=this.calculateAverageStars(this.currentUser.feedback.feedbackList),this.RoundOfStar=Math.round(this.averageStars),console.log("current user rating:",this.RoundOfStar),this.vehicle=this.currentUserData.vehicle.vehicleList||[],console.log(" this.vehicle === ",this.vehicle),null!=this.currentUserData&&(this.isEmailVerified=!!this.currentUser.email_verified,console.log("this.isEmailVerified 222=== ",this.isEmailVerified),this.isPhoneVerified=!!this.currentUser.phone,this.isGovtIdVerified=!!this.currentUser.govtDocs.url)});const t=localStorage.getItem("currentUser"),l=JSON.parse(t);Object.keys(l),this.currentUser=l,console.log("this.currentUser.email_verified; === ",this.currentUser.email_verified),console.log("this.isEmailVerified === ",this.isEmailVerified)}calculateAverageStars(n){const t=n.reduce((l,c)=>l+c.star,0);return n.length?t/n.length:0}EmailVerification(){this.isEmailVerified=!0,this.handleData.updateDocumentField(this.currentUserDocId,"email_verified",!0),console.log("this.isEmailVerified === ",this.isEmailVerified)}openEditCard(n=!1,t=!1){var l=this;return(0,_.A)(function*(){const c=yield l.modalCtrl.create({component:K,componentProps:{data:l.currentUser,addVehicleClicked:n,addGovtIdClicked:t}});return c.onDidDismiss().then(p=>{p.data&&(l.vehicle=p.data)}),yield c.present()})()}toggleUploadOption(){this.showUploadOption=!this.showUploadOption}onFileSelected(n){const t=n.target;t.files&&(this.selectedFile=t.files[0])}uploadFile(){var n=this;return(0,_.A)(function*(){n.selectedFile?(n.uploadedFileUrl=yield n.handleData.fileUploadToFirebase(n.selectedFile),console.log("Uploaded file URL: ",n.uploadedFileUrl),n.currentUserData.profilePicture=n.uploadedFileUrl,console.log("currentUser.profilePicture === ",n.currentUserData.profilePicture),n.handleData.updateDocumentField(n.currentUserDocId,"profilePicture",n.currentUserData.profilePicture),console.log("currentUserData === ",n.currentUserData),n.showUploadOption=!n.showUploadOption):console.log("No file selected")})()}deleteVehicle(n){this.currentUserData.vehicle.vehicleList.splice(n,1),this.handleData.updateDocumentField(this.currentUserDocId,"vehicle",this.currentUserData.vehicle)}editVehicle(n){var t=this;return(0,_.A)(function*(){const l=t.vehicle[n],c=yield t.modalCtrl.create({component:H,componentProps:{data:t.currentUser,selectedVehicle:l}});c.onDidDismiss().then(p=>{}),c.present()})()}toRating(){this.router.navigate(["/profile/rating"])}}return(o=a).\u0275fac=function(n){return new(n||o)(e.\u0275\u0275directiveInject(v.h),e.\u0275\u0275directiveInject(g.s),e.\u0275\u0275directiveInject(h.K))},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-profile"]],standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:58,vars:18,consts:[[3,"translucent"],["slot","start"],[1,"ion-padding"],[1,"photo"],["alt","User Photo",3,"src"],["alt","Uploaded Image",3,"src"],["src","../../../../assets/images/svgs/person.svg","alt","User Photo"],[1,"detail"],[3,"click"],[1,"rating"],[1,"ion-no-padding","ion-padding-bottom"],["lines","none",3,"click"],["slot","start","name","add-circle-outline"],["color","primary"],["button","","lines","none",3,"click"],["slot","start","name","create"],["slot","start",3,"color","name"],["color","primary",4,"ngIf"],["lines","none"],[4,"ngIf"],[1,"stars"],["color","warning",3,"name",4,"ngFor","ngForOf"],["color","warning",3,"name"],["type","file","fill","outline","placeholder","Upload now","name","profilePicture","required","",3,"input"],[1,"ion-padding",3,"click"],[4,"ngFor","ngForOf"],[1,"vehicleDetail"],[1,"head"],["name","car-sport-outline",1,"vehicleIcon"],[1,"d-flex"],[1,"border"],[1,"d-flex","ion-margin-top"],[1,"vehicle-btn",3,"click"],[1,"vehicle-btn","deletBtn",3,"click"],[1,"updateBtn"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e.\u0275\u0275element(3,"ion-menu-button"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"ion-title"),e.\u0275\u0275text(5,"Profile"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(6,"ion-content",2)(7,"ion-card")(8,"ion-card-header")(9,"div",3)(10,"ion-avatar",1),e.\u0275\u0275template(11,X,1,1,"img",4)(12,Z,1,1,"img",5)(13,$,1,0,"img",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"div",7)(15,"ion-card-title"),e.\u0275\u0275text(16),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"ion-card-subtitle",8),e.\u0275\u0275listener("click",function(){return t.toRating()}),e.\u0275\u0275template(18,ne,2,1,"div")(19,ie,2,0,"div",9),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(20,"ion-card-content",10)(21,"ion-item",11),e.\u0275\u0275listener("click",function(){return t.toggleUploadOption()}),e.\u0275\u0275element(22,"ion-icon",12),e.\u0275\u0275elementStart(23,"ion-label",13),e.\u0275\u0275text(24,"Change profile picture"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(25,le,6,1),e.\u0275\u0275elementStart(26,"ion-item",14),e.\u0275\u0275listener("click",function(){return t.openEditCard(!1,!0)}),e.\u0275\u0275element(27,"ion-icon",15),e.\u0275\u0275elementStart(28,"ion-label",13),e.\u0275\u0275text(29,"Edit personal details"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(30,"ion-card")(31,"ion-card-header")(32,"ion-card-title"),e.\u0275\u0275text(33,"Verify your profile"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(34,"ion-card-content",10)(35,"ion-item",11),e.\u0275\u0275listener("click",function(){return t.openEditCard(!1,!0)}),e.\u0275\u0275element(36,"ion-icon",16),e.\u0275\u0275template(37,ae,2,0,"ion-label",17)(38,re,2,0,"ion-label",17),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(39,"ion-item",11),e.\u0275\u0275listener("click",function(){return t.EmailVerification()}),e.\u0275\u0275element(40,"ion-icon",16),e.\u0275\u0275template(41,ce,2,1,"ion-label",17)(42,de,2,1,"ion-label",17),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(43,"ion-item",18),e.\u0275\u0275element(44,"ion-icon",16),e.\u0275\u0275template(45,se,2,1,"ion-label",17)(46,me,2,1,"ion-label",17),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(47,"ion-card")(48,"ion-card-header")(49,"ion-card-title"),e.\u0275\u0275text(50,"Vehicles"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(51,"ion-card-content",10),e.\u0275\u0275template(52,_e,2,1,"ng-container",19),e.\u0275\u0275elementContainerStart(53),e.\u0275\u0275elementStart(54,"ion-item",11),e.\u0275\u0275listener("click",function(){return t.openEditCard(!0,!1)}),e.\u0275\u0275element(55,"ion-icon",12),e.\u0275\u0275elementStart(56,"ion-label",13),e.\u0275\u0275text(57,"Add vehicle"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementEnd()()()),2&n&&(e.\u0275\u0275property("translucent",!0),e.\u0275\u0275advance(11),e.\u0275\u0275conditional(t.currentUser.profilePicture?11:t.uploadedFileUrl?12:13),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(t.currentUser.userName),e.\u0275\u0275advance(2),e.\u0275\u0275conditional(t.RoundOfStar?18:19),e.\u0275\u0275advance(7),e.\u0275\u0275conditional(t.showUploadOption?25:-1),e.\u0275\u0275advance(11),e.\u0275\u0275property("color",t.isGovtIdVerified?"success":"medium")("name",t.isGovtIdVerified?"checkmark-circle-outline":"add-circle-outline"),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",!t.isGovtIdVerified),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",t.isGovtIdVerified),e.\u0275\u0275advance(2),e.\u0275\u0275property("color",t.isEmailVerified?"success":"medium")("name",t.isEmailVerified?"checkmark-circle-outline":"add-circle-outline"),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",!t.isEmailVerified),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",t.isEmailVerified),e.\u0275\u0275advance(2),e.\u0275\u0275property("color",t.isPhoneVerified?"success":"medium")("name",t.isPhoneVerified?"checkmark-circle-outline":"add-circle-outline"),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",!t.isPhoneVerified),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",t.isPhoneVerified),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",t.vehicle&&t.vehicle.length>0))},dependencies:[r.$w,r.Jm,r.hU,r.ln,r.HW,r.mC,r.he,r.I9,r.tN,r.ME,r.b_,r.uz,r.QW,r.iq,r.MC,r.W9,r.eU,r.BC,r.ai,u.MD,u.Sq,u.bT,s.YN],styles:[".photo[_ngcontent-%COMP%]{display:flex;align-items:center}.photo[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding:5px;border:2px solid green}.photo[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{margin-left:10px}ion-card-content[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-inline-end:12px}.rating[_ngcontent-%COMP%]{cursor:pointer}.updateBtn[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}.d-flex[_ngcontent-%COMP%]{display:flex;gap:.5rem}.vehicleIcon[_ngcontent-%COMP%]{font-size:2rem}.vehicleDetail[_ngcontent-%COMP%]{background:#e2f5ed;padding:.5rem;border:1px solid #008955;border-radius:15px}.vehicleIconContainer[_ngcontent-%COMP%]{text-align:end}.vehicle-btn[_ngcontent-%COMP%]{padding:1rem;border:1px solid #008955;border-radius:12px;background:#e2f5ed;color:#008955;font-weight:700}.deletBtn[_ngcontent-%COMP%]{background:#008955;color:#fff}.head[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.stars[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1rem;color:gray}"]}),a})()}}]);